<section
  id="beneficios"
  class="bg-secondary min-h-screen flex items-center justify-center p-4 sm:p-6 md:p-8 sticky"
>
  <div
    class="flex flex-col md:flex-row items-center justify-center gap-4 md:gap-6 lg:gap-8 max-w-7xl mx-auto"
  >
    <div
      class="benefits-container flex flex-col md:flex-row items-center justify-center gap-4 md:gap-6 lg:gap-8 w-full px-4"
    >
      {
        [
          {
            front: "DISEÑO 100% PERSONALIZADO",
            back: "Cada negocio es único, por eso creamos páginas web adaptadas a tu estilo, necesidades y objetivos. Desde la paleta de colores hasta la estructura de la web.",
            position: "left",
          },
          {
            front: "WEB DE TU PROPIEDAD",
            back: "Olvídate de las plataformas que te atan con suscripciones. Con nosotros, tu página es completamente tuya, sin depender de terceros. La registramos con tu dominio.",
            position: "center",
          },
          {
            front: "OPTIMIZADA PARA AYUDARTE A CRECER",
            back: "Desarrollamos sitios rápidos, responsivos y optimizados para buscadores (SEO). Así, tu negocio gana visibilidad y atrae más clientes, impulsando tu crecimiento en el mundo digital.",
            position: "right",
          },
        ].map((item) => (
          <article
            class={`group perspective text-white text-center 
            w-[200px] h-[200px] 
            sm:w-[220px] sm:h-[220px]
            md:w-[240px] md:h-[240px]
            lg:w-[280px] lg:h-[280px]
            xl:w-[350px] xl:h-[350px]
            transition-all duration-500 ease-in-out
            hover:scale-150 hover:z-50 animate-fade-up article-${item.position}`}
          >
            <div class="relative w-full h-full transition-all duration-500 preserve-3d group-hover:rotate-y-180">
              {/* Frente del círculo */}
              <div class="absolute w-full h-full backface-hidden rounded-full border-3 bg-fourth border-black">
                <div class="flex items-center justify-center h-full p-4">
                  <h3 class="text-sm md:text-2xl font-bold leading-tight">
                    {item.front}
                  </h3>
                </div>
              </div>

              {/* Parte trasera del círculo */}
              <div class="absolute w-full h-full backface-hidden rounded-full border-3 border-black bg-fourth rotate-y-180 overflow-hidden transition-all">
                <div class="h-full flex flex-col justify-center p-2 md:p-4 relative">
                  <div class="text-container overflow-y-auto scrollbar-hide">
                    <span class="text-sm sm:text-base md:text-lg lg:text-xl xl:text-xl font-bold leading-snug">
                      {item.back}
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </article>
        ))
      }
    </div>
  </div>
</section>

<style>
  .text-container {
    max-height: calc(100% - 2rem);
    padding: 0 1rem;
    scroll-behavior: smooth;
  }

  .fade-effect {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 30px;
    background: linear-gradient(
      to top,
      rgba(41, 37, 36, 1) 20%,
      rgba(41, 37, 36, 0) 100%
    );
    pointer-events: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Ajustes de tamaño de texto responsivo */
  @media (max-width: 640px) {
    .text-container span {
      font-size: 0.875rem !important;
      line-height: 1.4;
    }
  }

  /* Resto de estilos permanecen igual */
  /* Utilidades 3D */
  .perspective {
    perspective: 1000px;
  }
  .preserve-3d {
    transform-style: preserve-3d;
  }
  .backface-hidden {
    backface-visibility: hidden;
  }
  .rotate-y-180 {
    transform: rotateY(180deg);
  }

  /* Animación de fade up al hacer scroll */
  .animate-fade-up {
    animation: fadeUp 0.6s ease-out forwards;
    opacity: 0;
  }
  @keyframes fadeUp {
    from {
      opacity: 0;
      transform: translateY(40px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  article {
    will-change: transform;
  }
  /* Delays escalonados */
  article:nth-child(1) {
    animation-delay: 0.2s;
  }
  article:nth-child(2) {
    animation-delay: 0.4s;
  }
  article:nth-child(3) {
    animation-delay: 0.6s;
  }

  /* Efecto hover: separación y escalado */
  /* Para pantallas intermedias: 768px a 1023px */
  @media (min-width: 768px) and (max-width: 1023px) {
    .benefits-container {
      position: relative;
    }
    /* Cuando se hace hover en el artículo izquierdo */
    .article-left:hover ~ .article-center,
    .article-left:hover ~ .article-right {
      transform: translateX(1.5rem);
    }
    /* Cuando se hace hover en el artículo central */
    .article-center:hover ~ .article-right {
      transform: translateX(1.5rem);
    }
    .benefits-container:has(.article-center:hover) .article-left {
      transform: translateX(-1.5rem);
    }
    /* Cuando se hace hover en el artículo derecho */
    .benefits-container:has(.article-right:hover) .article-left,
    .benefits-container:has(.article-right:hover) .article-center {
      transform: translateX(-1.5rem);
    }
  }

  /* Para pantallas grandes: 1024px en adelante */
  @media (min-width: 1024px) {
    .benefits-container {
      position: relative;
    }
    /* Cuando se hace hover en el artículo izquierdo */
    .article-left:hover ~ .article-center,
    .article-left:hover ~ .article-right {
      transform: translateX(3rem);
    }
    /* Cuando se hace hover en el artículo central */
    .article-center:hover ~ .article-right {
      transform: translateX(3rem);
    }
    .benefits-container:has(.article-center:hover) .article-left {
      transform: translateX(-3rem);
    }
    /* Cuando se hace hover en el artículo derecho */
    .benefits-container:has(.article-right:hover) .article-left,
    .benefits-container:has(.article-right:hover) .article-center {
      transform: translateX(-3rem);
    }
  }

  /* Para pantallas pequeñas (opcional) se puede omitir efecto hover */
  @media (max-width: 767px) {
    /* Sin separación para evitar solapamientos en mobile */
    .benefits-container {
      flex-direction: row;
      flex-wrap: wrap;
      gap: 2rem;
    }
  }
</style>

<script>
  // Intersection Observer para activar las animaciones al hacer scroll
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("animate-fade-up");
        }
      });
    },
    {
      threshold: 0.1,
      rootMargin: "50px",
    },
  );

  // Observamos todos los artículos
  document.querySelectorAll("article").forEach((article) => {
    observer.observe(article);
  });
</script>
