---
const titleText = "¿Por qué elegirnos?";
const destacado1 = "Cada negocio merece su identidad digital única.";
const destacado2 = "optimizados para resultados.";
---

<style is:global>
  /* Animaciones compartidas */
  :root {
    --animation-curve: cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Animación wave para el título */
  .wave-text {
    position: relative;
    display: inline-block;
    color: transparent;
    -webkit-text-stroke: 1px black;
  }

  .wave-text::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    color: var(--color-primary);
    clip-path: circle(0% at var(--mouse-x, 50%) var(--mouse-y, 50%));
    filter: blur(4px);
    pointer-events: none;
  }

  .wave-text.animate::after {
    animation: waveExpand 0.8s ease-out forwards;
  }

  @keyframes waveExpand {
    0% {
      clip-path: circle(0% at var(--mouse-x, 50%) var(--mouse-y, 50%));
      filter: blur(4px);
    }
    70% {
      clip-path: circle(150% at var(--mouse-x, 50%) var(--mouse-y, 50%));
      filter: blur(0);
    }
    100% {
      clip-path: circle(150% at var(--mouse-x, 50%) var(--mouse-y, 50%));
      filter: blur(0);
    }
  }

  /* Animación subrayado para el texto destacado */
  .underline-animation {
    position: relative;
    display: inline-block;
  }

  .underline-animation::after {
    content: '';
    position: absolute;
    bottom: -1px;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: var(--color-primary);
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 0.5s var(--animation-curve);
  }

  .underline-animation:hover::after {
    transform: scaleX(1);
  }
</style>

<section class="relative max-w-sm md:max-w-3xl w-full mx-auto px-4 sm:px-6 lg:px-8">
  <img
    src="/home/1.webp"
    alt="Patrón decorativo abstracto"
    class="absolute top-4 -left-20 sm:-left-32 md:-left-40 w-24 md:w-36 lg:w-42 opacity-20 z-0 pointer-events-none"
    loading="lazy"
    decoding="async"
    width="168"
    height="168"
  />

  <article class="flex flex-col items-center justify-center text-center py-16 md:py-24 lg:py-32 space-y-6 md:space-y-8 relative z-10"
    itemscope
    itemtype="https://schema.org/Service"
  >
    <header class="space-y-2">
      <h2 class="text-4xl md:text-5xl lg:text-6xl font-extrabold" itemprop="name">
        <span class="wave-text" data-text={titleText}>
          {titleText}
        </span>
      </h2>
      <meta itemprop="serviceType" content="Desarrollo Web Profesional" />
    </header>

    <div class="max-w-2xl mx-auto" itemprop="description">
      <p class="text-lg md:text-xl lg:text-2xl leading-relaxed md:leading-loose text-gray-600">
        <span class="font-medium underline-animation">
          {destacado1}
        </span>
        Creamos sitios web autogestionables, 100% adaptados a tus necesidades y
        <span class="font-medium underline-animation">
          {destacado2}
        </span>
        Tu web será totalmente propia, sin depender de plataformas externas,
        con máximo rendimiento y control.
      </p>
    </div>

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Service",
        "name": "Desarrollo Web Personalizado",
        "description": "Creación de sitios web únicos y autogestionables adaptados a cada negocio",
        "provider": {
          "@type": "Organization",
          "name": "Nombre de tu Empresa"
        },
        "serviceOutput": "Website",
        "areaServed": "País/Región"
      }
    </script>
  </article>
</section>

<script>
  // Animación wave con tipos correctos
  document.querySelectorAll<HTMLElement>('.wave-text').forEach(el => {
    el.addEventListener('mousemove', (e: MouseEvent) => {
      const rect = el.getBoundingClientRect();
      el.style.setProperty('--mouse-x', `${e.clientX - rect.left}px`);
      el.style.setProperty('--mouse-y', `${e.clientY - rect.top}px`);
    });

    el.addEventListener('mouseenter', () => el.classList.add('animate'));
    el.addEventListener('mouseleave', () => el.classList.remove('animate'));
  });

  // Polyfill para touch
  document.addEventListener('touchstart', () => {}, { passive: true });
</script>